

<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button class="navbar-toggle" data-target=".navbar-collapse"
                data-toggle="collapse" type="button"><span class=
                "icon-bar"></span> <span class="icon-bar"></span> <span class=
                "icon-bar"></span></button> <a class="navbar-brand" href=
                "#">CR<i class="fa fa-circle"></i>WDCAST</a>
            </div>

            <div class="navbar-collapse collapse">
                <div class="nav navbar-nav navbar-right" style=
                "margin-left: 2em">
                    <section>
                        <div class=
                        "morph-button morph-button-modal morph-button-modal-3 large morph-button-fixed">
                        <button class="test" type="button">Login</button>

                            <div class="morph-content">
                                <div>
                                    <div class=
                                    "content-style-form content-style-form-1">
                                        <span class="icon icon-close"></span>

                                        <h2>Login</h2>

                                        <form>
                                            <p>
                                            <label>Username</label><input id="username-login"
                                            type="text"></p>

                                            <p>
                                            <label>Password</label><input id="password-login"
                                            type="password"></p>

                                            <p><button id=
                                            "login">Login</button></p>

                                            <div class="alert fade in" id=
                                            "login-error" style=
                                            "display:none;">
                                                 Invalid
                                                credentials! Please enter your
                                                username and password again.
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div><!-- morph-button -->

                        <div class=
                        "morph-button morph-button-modal morph-button-modal-3 morph-button-fixed">
                        <button class="test" type="button">Signup</button>

                            <div class="morph-content">
                                <div>
                                    <div class=
                                    "content-style-form content-style-form-2">
                                        <span class="icon icon-close"></span>

                                        <h2>Sign Up</h2>

                                        <form>
                                            <label><input checked class=
                                            "user-option" id=
                                            "advertiser-option" name=
                                            "signup-user" type="radio" value=
                                            "0"> Advertiser</label>
                                            <label><input class="user-option"
                                            id="owner-option" name=
                                            "signup-user" type="radio" value=
                                            "1"> Property owner</label>

                                            <p>
                                            <label>Username</label><input id='username-signup'
                                            type="text"></p>

                                            <p>
                                            <label>Password</label><input id='password-signup'
                                            type="password"></p>

                                            <p><label>Email</label><input id=
                                            'email-signup' type="text"></p>

                                            <p><label>Company</label><input id=
                                            'company-signup' type="text"></p>

                                            <p><button id="signup">Sign
                                            Up</button></p>

                                            <div class="alert fade in" id=
                                            "signup-usernametaken-e" style=
                                            "display:none;">
                                              This username has already been
                                                taken.
                                            </div>
                                            <div class="alert fade in" id=
                                            "signup-username-e" style=
                                            "display:none;">
                                              Please enter a valid username. Must have more than 8 characters.
                                            </div>

                                            <div class="alert fade in" id=
                                            "signup-password-e" style=
                                            "display:none;">
                                                Please enter a valid password. A
                                                password must have more than 6
                                                characters.
                                            </div>

                                            <div class="alert fade in" id=
                                            "signup-email-e" style=
                                            "display:none;">
                                              Please enter a valid email.
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div><!-- morph-button -->

                        <div class=
                        "morph-button morph-button-modal morph-button-modal-3 morph-button-fixed">
                        <button onclick="location.href='/listings/new'"
                            type="button">Create</button>
                        </div>

                        <div class=
                        "morph-button morph-button-modal morph-button-modal-3 morph-button-fixed">
                        <button onclick="location.href='/search'" type=
                        "button">Search</button>
                        </div>
                    </section>
                </div>
            </div><!-- /form-mockup -->
        </div><!--/.nav-collapse -->
    </div>

    <div id="headerwrap">
        <div class="container">
            <div class="row centered">
                <div class="col-lg-8 col-lg-offset-2">
                    <h1>Advertising has never been <b>easier</b></h1>

                    <h2>'Request a quote' is now a thing of the past</h2>
                </div>
            </div><!-- row -->
        </div><!-- container -->
    </div><!-- headerwrap -->

    <div class="container w">
        <div class="row centered">
            <br>
            <br>

            <div class="col-lg-4">
                <i class="fa fa-money"></i>

                <h4>NO THIRD PARTY FEES</h4>

                <p>We are cutting out the middleman.</p>
            </div><!-- col-lg-4 -->

            <div class="col-lg-4">
                <i class="fa fa-map-marker"></i>

                <h4>FIND A PERFECT DIGITAL SPACE IN THE BAY AREA TO ADVERTISE
                YOUR BUSINESS</h4>

                <p>Search through available digital signage spaces and see how
                much</p>
            </div><!-- col-lg-4 -->

            <div class="col-lg-4">
                <i class="fa fa-laptop"></i>

                <h4>UPLOAD YOUR AD IN THE COMFORT OF YOUR OWN OFFICE</h4>

                <p></p>
            </div><!-- col-lg-4 -->
        </div><!-- row -->
        <br>
        <br>
    </div><!-- container -->
    <script type="text/javascript">

    // Deal with radio button options (choose either advertiser or owner)
    var radio = $('input[name=signup-user]');
    var checkedValue = 0;
    $('.user-option').click(function() {
    checkedValue = radio.filter(':checked').val();
    });

    // Click signup button
    $('#signup').click(function(e) {
    console.log('signup');
    e.preventDefault();

    $.ajax({
           //First send a post request, get the response back. On successful message back, check the data
           url: "" + window.location.protocol + '//' + window.location.host + "/api/create_user",
           type: "POST",
           /* radio button vals: 0 = advertiser, 1 = owner */

           data: JSON.stringify({username: $('#username-signup').val(), password: $('#password-signup').val(), email: $('#email-signup').val(), company: $('#company-signup').val(), usertype: checkedValue}),
           contentType: "application/json",
           dataType: "json",
           success: function(data){
             signupSuccess(data);
           },
           failure: function(errorMsg) {
             failure(data);
           }
        });
    })


    function signupSuccess(data) {
    var status = data.status;
    if (status == 1) {
    if (checkedValue == 0) {
      window.location.href = window.location + '/search';

    }
    else {
    window.location.href = window.location + '/listings/new';
    }
    }
    else {
    if (status == -1) {
    // error message
    $('#signup-usernametaken-e').show();
    setTimeout(function() { // this will automatically close the alert and remove this if the users doesnt close it in 5 secs

    // hide error message after five seconds, or it will stay there forever
    $("#signup-usernametaken-e").hide();

    }, 5000);
    }
    if (status == -2) {
    // error message
    $('#signup-username-e').show();
    setTimeout(function() { // this will automatically close the alert and remove this if the users doesnt close it in 5 secs

    // hide error message after five seconds, or it will stay there forever
    $("#signup-username-e").hide();

    }, 5000);
    }
    if (status == -3) {
    // error message
    $('#signup-password-e').show();
    setTimeout(function() { // this will automatically close the alert and remove this if the users doesnt close it in 5 secs

    // hide error message after five seconds, or it will stay there forever
    $("#signup-password-e").hide();

    }, 5000);
    }
    if (status == -4) {
    // error message
    $('#signup-email-e').show();
    setTimeout(function() { // this will automatically close the alert and remove this if the users doesnt close it in 5 secs

    // hide error message after five seconds, or it will stay there forever
    $("#signup-email-e").hide();

    }, 5000);
    }
    }
    }
    $('#login').click(function(e) {
    e.preventDefault();
    $.ajax({
            //First send a post request, get the response back. On successful message back, check the data
            url: "" + window.location.protocol + '//' + window.location.host + "/api/login",
            type: "POST",
            data: JSON.stringify({username: $('#username-login').val(), password: $('#password-login').val()}),
            contentType: "application/json",
            dataType: "json",
            success: function(data){
              loginSuccess(data);
            },
            failure: function(errorMsg) {
              failure(data);
            }
         });
    })

    function loginSuccess(data){
    // Wrong login credentials
    if (data.status == -1) {
     // error message
     $('#login-error').show();
     setTimeout(function() { // this will automatically close the alert and remove this if the users doesnt close it in 5 secs

    // hide error message after five seconds, or it will stay there forever
      $("#login-error").hide();

    }, 5000);
    }
    else if (data.status == 1) {
     $('.test').addClass('logged-in');
     window.location.href = window.location + '/search';

    }

    };



    </script> <script>
//Ignore this -- this is the code for the pretty login buttons (not logic for the signin/login)

            (function() {
                var docElem = window.document.documentElement, didScroll, scrollPosition;

                // trick to prevent scrolling when opening/closing button
                function noScrollFn() {
                    window.scrollTo( scrollPosition ? scrollPosition.x : 0, scrollPosition ? scrollPosition.y : 0 );
                }

                function noScroll() {
                    window.removeEventListener( 'scroll', scrollHandler );
                    window.addEventListener( 'scroll', noScrollFn );
                }

                function scrollFn() {
                    window.addEventListener( 'scroll', scrollHandler );
                }

                function canScroll() {
                    window.removeEventListener( 'scroll', noScrollFn );
                    scrollFn();
                }

                function scrollHandler() {
                    if( !didScroll ) {
                        didScroll = true;
                        setTimeout( function() { scrollPage(); }, 60 );
                    }
                };

                function scrollPage() {
                    scrollPosition = { x : window.pageXOffset || docElem.scrollLeft, y : window.pageYOffset || docElem.scrollTop };
                    didScroll = false;
                };


                [].slice.call( document.querySelectorAll( '.morph-button' ) ).forEach( function( bttn ) {
                    new UIMorphingButton( bttn, {
                        closeEl : '.icon-close',
                        onBeforeOpen : function() {
                            // don't allow to scroll
                            noScroll();
                        },
                        onAfterOpen : function() {
                            // can scroll again
                            canScroll();
                        },
                        onBeforeClose : function() {
                            // don't allow to scroll
                            noScroll();
                        },
                        onAfterClose : function() {
                            // can scroll again
                            canScroll();
                        }
                    } );
                } );


            })();
    </script>
</body>
