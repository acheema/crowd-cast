<!--Written by: Akaljot (cleaned up by Jessica) -->
  <style>
  .form-inline .form-group{
    margin-left: 0;
    margin-right: 0;
  }
  .main-container{
    background-color: #f1f1f1;
        padding-left: 50px;
        padding-top: 50px;
  }
    body{
        background-color: #f1f1f1;
    }
  h2{
      text-align: center;
  }
  .btn{
      border: 1px solid #3079ed;
      color: #ffffff;
      text-shadow: 0 1px rgba(0,0,0,0.1);
      background-color: #4d90fe;
      background-image: -webkit-gradient(linear,left top,left bottom,from(#4d90fe),to(#4787ed));
      background-image: -webkit-linear-gradient(top,#4d90fe,#4787ed);
      background-image: -moz-linear-gradient(top,#4d90fe,#4787ed);
      background-image: -ms-linear-gradient(top,#4d90fe,#4787ed);
      background-image: -o-linear-gradient(top,#4d90fe,#4787ed);
      background-image: linear-gradient(top,#4d90fe,#4787ed);
  }
  .btn:hover{
      border: 1px solid #2f5bb7;
      color: #ffffff;
      text-shadow: 0 1px rgba(0,0,0,0.3);
      background-color: #357ae8;
      background-image: -webkit-gradient(linear,left top,left bottom,from(#4d90fe),to(#357ae8));
      background-image: -webkit-linear-gradient(top,#4d90fe,#357ae8);
      background-image: -moz-linear-gradient(top,#4d90fe,#357ae8);
      background-image: -ms-linear-gradient(top,#4d90fe,#357ae8);
      background-image: -o-linear-gradient(top,#4d90fe,#357ae8);
      background-image: linear-gradient(top,#4d90fe,#357ae8);
  }
  .btn:active{
    background-color: #357ae8;
    background-image: -webkit-gradient(linear,left top,left bottom,from(#4d90fe),to(#357ae8));
    background-image: -webkit-linear-gradient(top,#4d90fe,#357ae8);
    background-image: -moz-linear-gradient(top,#4d90fe,#357ae8);
    background-image: -ms-linear-gradient(top,#4d90fe,#357ae8);
    background-image: -o-linear-gradient(top,#4d90fe,#357ae8);
    background-image: linear-gradient(top,#4d90fe,#357ae8);
    -webkit-box-shadow: inset 0 1px 2px rgb a(0,0,0,0.3);
    -moz-box-shadow: inset 0 1px 2px rgba(0,0,0,0.3);
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.3);
  }
  .listinfo{
       font-weight: bold;
  }

  table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
  }
  </style>

    <div class="container">
        <div class="row">


            <div class="col-lg-6">
                <!--MAP STUFF SHOULD GO HERE-->
                <%= image_tag @listing.image.url(:square) %>

                <div id="googlemap" style='width: 300px;'>
                    <div id="map" style='width: 300px; height: 400px;'></div>
                </div>
            </div>

            <div class="col-lg-6">
                <br>
                <br>

                <div>
                    <button class="btn btn-default" data-target=
                    "#message-modal" data-toggle="modal" type="button">Send
                    Message To Owner</button>
                </div>

                <div class="table-responsive">
                    <table class="table table-striped table-bordered">
                        <tbody>
                            <tr>
                                <td class="listinfo">Owner</td>

                                <td><%= @owner_username %></td>
                            </tr>

                            <tr>
                                <td class="listinfo">Title</td>

                                <td><%= @listing.title %></td>
                            </tr><%if @listing.street.present? and @listing.city.present? and @listing.state.present? and @listing.zip.present? then %>

                            <tr>
                                <td class="listinfo">Address</td>

                                <td>
                                <%= "#{@listing.street}, #{@listing.city}, #{@listing.state}, #{@listing.zip}" %></td>
                            </tr><%else %>

                            <tr>
                                <td class="listinfo">GPS Coordinate</td>

                                <td>
                                <%= "#{@listing.latitude}, #{@listing.longitude}" %></td>
                            </tr><%end%>

                            <tr>
                                <td class="listinfo">Size</td>

                                <td>
                                <%= "#{@listing.height}x#{@listing.width}"%></td>
                            </tr>

                            <tr>
                                <td class="listinfo">Resolution</td>

                                <td>
                                <%= "#{@listing.screen_resolution_x} x #{@listing.screen_resolution_y}" %></td>
                            </tr>

                            <tr>
                                <td class="listinfo">Views per week</td>

                                <td><%= @listing.views_per_week %></td>
                            </tr>

                            <tr>
                                <td class="listinfo">Time per click</td>

                                <td><%= @listing.time_per_click %></td>
                            </tr>

                            <tr>
                                <td class="listinfo">Cost per week</td>

                                <td><%= @listing.cost_per_week %></td>
                            </tr>

                            <tr>
                                <td class="listinfo">Description</td>

                                <td><%= @listing.description %></td>
                            </tr>

                            <tr>
                                <td class="listinfo">Active</td>

                                <td><%= @listing.active %></td>
                            </tr>

                            <tr>
                                <td class="listinfo">Views</td>

                                <td><%= @listing.views %></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>




<script src= "//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" type="text/javascript">
</script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'>
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jasny-bootstrap/3.1.3/js/jasny-bootstrap.min.js"></script>
<script type="text/javascript">
   $(document).ready(function() {
      handler = Gmaps.build('Google');
      var mapOptions = { mapTypeId: google.maps.MapTypeId.HYBRID };
      handler.buildMap({ internal: {id: 'map'}, provider: mapOptions}, function(){
         var location = { "lat": <%=@listing.latitude%>, "lng": <%=@listing.longitude%> };
         marker = handler.addMarker(location, { "opacity": 1.0 });
         handler.bounds.extendWith(marker);
         handler.fitMapToBounds();
         handler.getMap().setZoom(18);
      });
   });
</script>
